import { Achievement, Condition } from "@cruncheevos/core";
import { Points } from "../../common/types.js";

type BitOnly = 'Bit0' | 'Bit1' | 'Bit2' | 'Bit3' | 'Bit4' | 'Bit5' | 'Bit6' | 'Bit7';

export const address = {
  roomId: 0x03e,
  gameMode: 0x042,
  controllerInputsPlayer1: 0x501,
  musicId: 0x521,
  kongWorldState: 0x527,
  stageIdFromMap: 0x563,
  currentKong: 0x56f,
  gameState: 0x579,
  kongLetters: 0x57f,
  gameFreezeAction: 0x1929,
  stageData: {
    jungleJaunt: 0x599,
    simianSwing: 0x58f,
    caveBarrelBlast: 0x584,
    chompsReef: 0x642,
    congoCarnage: 0x59a,
    winkyWalkway: 0x65c,
    mineCartMayhem: 0x5b1,
    potHolePanic: 0x58a,
    mineshaftFight: 0x5b4,
    trickyTemple: 0x5c5,
    evergreenLeap: 0x628,
    collapsingPlatforms: 0x627,
    forestMayhem: 0x653,
    snakeDrumChallenge: 0x5c6,
    sunsetTireTrail: 0x590,
    clambosRefuge: 0x661,
    arcticBarrelArsenal: 0x5a7,
    icyCaveClimb: 0x5f0,
    freezingRavine: 0x62a,
    croctopusSafari: 0x5c1,
    rockkrocCaverns: 0x597,
    snomadVillage: 0x651,
    factoryBarrelBlast: 0x5c3,
    trickyTrackChaos: 0x5b2,
    spikyTyreAntics: 0x59b,
    toxicLake: 0x5a5,
    krazyMineKart: 0x5aa,
    krazyBlackouts: 0x5c4,
    animalAntics0: 0x5b3,
    neckyNutmare: 0x595,
    freezingMine: 0x58d,
    loopyOilDrums: 0x5b9,
    castlistPerils: 0x5ae,
    gangPlankGalleon: 0x5eb,
  }
};

type ProgressionCheevoData = {
  title: string,
  points: Points,
  world: string,
  roomId: number,
  battleMusicId: number,
  type: Achievement.Type,
};

export const progressionCheevoData: ProgressionCheevoData[] = [
  { title: 'Swing, Monkey, Swing', points: 10, world: 'Kongo Jungle', roomId: 0xe0, battleMusicId: 0x15, type: 'progression' },
  { title: 'Mine Cart Misadventure', points: 10, world: 'Monkey Mines', roomId: 0xe1, battleMusicId: 0x15, type: 'progression' },
  { title: 'Faunaphonic', points: 10, world: 'Vine Valley', roomId: 0xe5, battleMusicId: 0x15, type: 'progression' },
  { title: 'Chekan Winter', points: 10, world: 'Gorilla Glacier', roomId: 0xe2, battleMusicId: 0x15, type: 'progression' },
  { title: 'Machina Anesthesia', points: 10, world: 'Kremkroc Industries Inc', roomId: 0xe3, battleMusicId: 0x15, type: 'progression' },
  { title: 'Echoes', points: 10, world: 'Chimp Caverns', roomId: 0xe4, battleMusicId: 0x15, type: 'progression' },
  { title: 'Thrash the Plank', points: 25, world: 'Gangplank Galleon', roomId: 0x68, battleMusicId: 0x18, type: 'win_condition' },
];

type PossiblePairNumber = number | [number, number]

type KongLetterData = {
  title: string,
  world: string,
  stages: PossiblePairNumber[],
};

export const kongLetterData: KongLetterData[] = [
  {
    title: 'The Jungle Book',
    world: 'Kongo Jungle',
    stages: [0x16, 0x0c, [0xea, 0x01], 0xbf, 0x17]
  },
  {
    title: 'Fall of Giants',
    world: 'Monkey Mines',
    stages: [0xd9, 0x2e, 0x07, 0x31, 0x42]
  },
  {
    title: 'The Tree and the Vine',
    world: 'Vine Valley',
    stages: [0xa5, 0xa4, 0x43, 0x0d, 0xde]
  },
  {
    title: 'Living Ice',
    world: 'Gorilla Glacier',
    stages: [0x24, 0x6d, 0xa7, 0x3e, 0x14, 0xce]
  },
  {
    title: 'The Maintenance of Headway',
    world: 'Kremkroc Industries Inc',
    stages: [0x40, 0x2f, 0x18, 0x22, 0x27, 0x41]
  },
  {
    title: 'The Weirdstone of Brisingamen',
    world: 'Chimp Caverns',
    stages: [0x30, 0x12, 0x0a, 0x36, 0x2b]
  },
];

type BonusRoomData = {
  title: string,
  world: string,
  id: number,
  rooms: [number, BitOnly[]][],
};

export const bonusRoomData: BonusRoomData[] = [
  {
    title: 'Congo',
    world: 'Kongo Jungle',
    id: 423336,
    rooms: [
      [address.stageData.jungleJaunt, ['Bit1', 'Bit2']],
      [address.stageData.simianSwing, ['Bit1', 'Bit2']],
      [address.stageData.caveBarrelBlast, ['Bit1', 'Bit2', 'Bit3']],
      [address.stageData.congoCarnage, ['Bit1', 'Bit2']],
    ],
  },
  {
    title: 'October Sky',
    world: 'Monkey Mines',
    id: 423337,
    rooms: [
      [address.stageData.winkyWalkway, ['Bit1']],
      [address.stageData.potHolePanic, ['Bit1', 'Bit2']],
      [address.stageData.mineshaftFight, ['Bit1', 'Bit2']],
      [address.stageData.trickyTemple, ['Bit1', 'Bit2', 'Bit3']],
    ],
  },
  {
    title: 'Apocalypto',
    world: 'Vine Valley',
    id: 423338,
    rooms: [
      [address.stageData.evergreenLeap, ['Bit1', 'Bit2', 'Bit3']],
      [address.stageData.collapsingPlatforms, ['Bit1', 'Bit2']],
      [address.stageData.forestMayhem, ['Bit1', 'Bit2']],
      [address.stageData.snakeDrumChallenge, ['Bit1', 'Bit2']],
      [address.stageData.sunsetTireTrail, ['Bit1', 'Bit2', 'Bit3', 'Bit4', 'Bit5']],
    ]
  },
  {
    title: 'Under the Glacier',
    world: 'Gorilla Glacier',
    id: 423339,
    rooms: [
      [address.stageData.arcticBarrelArsenal, ['Bit1', 'Bit2', 'Bit3']],
      [address.stageData.icyCaveClimb, ['Bit1', 'Bit2', 'Bit3']],
      [address.stageData.freezingRavine, ['Bit1', 'Bit2']],
      [address.stageData.rockkrocCaverns, ['Bit1', 'Bit2']],
      [address.stageData.snomadVillage, ['Bit1', 'Bit2']],
    ]
  },
  {
    title: 'Charlie and the Chocolate Factory',
    world: 'Kremkroc Industries Inc',
    id: 423342,
    rooms: [
      [address.stageData.factoryBarrelBlast, ['Bit1', 'Bit2', 'Bit3', 'Bit4']],
      [address.stageData.trickyTrackChaos, ['Bit1', 'Bit2', 'Bit3']],
      [address.stageData.spikyTyreAntics, ['Bit1', 'Bit2', 'Bit3']],
      [address.stageData.krazyMineKart, ['Bit1', 'Bit2', 'Bit3']],
      [address.stageData.krazyBlackouts, ['Bit1', 'Bit2']],
    ]
  },
  {
    title: 'The Descent',
    world: 'Chimp Caverns',
    id: 423340,
    rooms: [
      [address.stageData.animalAntics0, ['Bit1']],
      [address.stageData.neckyNutmare, ['Bit1', 'Bit2']],
      [address.stageData.freezingMine, ['Bit1', 'Bit2']],
      [address.stageData.loopyOilDrums, ['Bit1', 'Bit2']],
      [address.stageData.castlistPerils, ['Bit1', 'Bit2']],
    ]
  },
];

type LeaderboardKongData = {
  who: string,
  hasBothKongs: boolean,
  controllingKong: number,
};

export const leaderboardKongData: LeaderboardKongData[] = [
  { who: 'Donkey', hasBothKongs: false, controllingKong: 1 },
  { who: 'Diddy', hasBothKongs: false, controllingKong: 2 },
  { who: 'Donkey w/Diddy', hasBothKongs: true, controllingKong: 1 },
  { who: 'Diddy w/Donkey', hasBothKongs: true, controllingKong: 2 },
];

type WarpData = {
  from: number,
  to: number[]
};

type LeaderboardData = {
  stageTitle: string,
  roomId: number,
  ids: [number, number, number, number],
  illegalWarps?: WarpData
};

export const leaderboardData: LeaderboardData[] = [
  { stageTitle: 'Jungle Jaunt', roomId: 0x16, ids: [96901, 96902, 96903, 96904] },
  { stageTitle: 'Simian Swing', roomId: 0x0c, ids: [96905, 96906, 96907, 96908] },
  { stageTitle: 'Cave Barrel Blast', roomId: 0x01, ids: [96909, 96910, 96911, 96912] },
  { stageTitle: "Chomp's Reef", roomId: 0xbf, ids: [96913, 96914, 96915, 96978] },
  { stageTitle: 'Congo Carnage', roomId: 0x17, ids: [96916, 96979, 96917, 96980] },
  { stageTitle: "Winky's Walkway GBC", roomId: 0xd9, ids: [96918, 96981, 96919, 96982] },
  { stageTitle: 'Mine Kart Mayhem', roomId: 0x2e, ids: [96920, 96921, 96983, 96922], illegalWarps: { from: 0x2e, to: [0xcc] } },
  { stageTitle: 'Pot Hole Panic', roomId: 0x07, ids: [96984, 96975, 96923, 96924] },
  { stageTitle: 'Mineshaft Fight', roomId: 0x31, ids: [96985, 96925, 96986, 96926], illegalWarps: { from: 0x31, to: [0xcd] } },
  { stageTitle: 'Tricky Temple', roomId: 0x42, ids: [96987, 96927, 96988, 96928], illegalWarps: { from: 0x42, to: [0x35, 0xae, 0xaf, 0xb0] } },
  { stageTitle: 'Evergreen Leap', roomId: 0xa5, ids: [96989, 96929, 96990, 96930], illegalWarps: { from: 0xa5, to: [0x65, 0xb7, 0xb8, 0xb9] } },
  { stageTitle: 'Collapsing Platforms', roomId: 0xa4, ids: [96991, 96931, 96992, 96932], illegalWarps: { from: 0xa4, to: [0xb3, 0xb4] } },
  { stageTitle: 'Forest Mayhem', roomId: 0xd0, ids: [97011, 96933, 96993, 96934] },
  { stageTitle: 'Snake Drum Challenge', roomId: 0x43, ids: [97012, 96935, 96994, 96936] },
  { stageTitle: 'Sunset Tire Trial', roomId: 0x0d, ids: [97013, 96937, 96938, 96995] },
  { stageTitle: "Clambo's Refuge", roomId: 0xde, ids: [96939, 97014, 96940, 96996] },
  { stageTitle: 'Arctic Barrel Arsenal', roomId: 0x24, ids: [96941, 97015, 96942, 96997] },
  { stageTitle: 'Icy Cave Climb', roomId: 0x6d, ids: [96943, 96998, 96976, 96944], illegalWarps: { from: 0x6d, to: [0xc7, 0xc8, 0xcb] } },
  { stageTitle: 'Freezing Ravine', roomId: 0xa7, ids: [96945, 97016, 96946, 96999] },
  { stageTitle: 'Croctopus Safari', roomId: 0x3e, ids: [96947, 97017, 96948, 97000] },
  { stageTitle: 'Rockkroc Caverns', roomId: 0x14, ids: [97029, 97030, 97031, 97032] },
  { stageTitle: 'Snowmad Village', roomId: 0xce, ids: [96949, 97018, 96950, 96951] },
  { stageTitle: 'Factory Barrel Blast', roomId: 0x40, ids: [97001, 96952, 97019, 96953] },
  { stageTitle: 'Tricky Track Chaos', roomId: 0x2f, ids: [96954, 97002, 96955, 97020], illegalWarps: { from: 0x2f, to: [0x88, 0x89, 0x8a] } },
  { stageTitle: 'Spiky Tyre Antics', roomId: 0x18, ids: [96956, 97003, 96957, 97021] },
  { stageTitle: 'Toxic Lake', roomId: 0x22, ids: [96958, 97004, 96959, 97022] },
  { stageTitle: 'Krazy Mine Kart', roomId: 0x27, ids: [96960, 97005, 96961, 97023] },
  { stageTitle: 'Krazy Blackouts', roomId: 0x41, ids: [96962, 97006, 96963, 97024] },
  { stageTitle: 'Animal Antics 0', roomId: 0x30, ids: [96964, 96965, 97007, 96966] },
  { stageTitle: 'Necky Nutmare', roomId: 0x12, ids: [97025, 96977, 96967, 97008] },
  { stageTitle: 'Freezing Mine', roomId: 0x0a, ids: [96968, 96969, 97028, 96970] },
  { stageTitle: 'Loopy Oil Drums', roomId: 0x36, ids: [97009, 96971, 97026, 96972] },
  { stageTitle: 'Castlist Perils', roomId: 0x2b, ids: [97010, 96973, 97027, 96974] },
];

export const actionLookup = {
  104: "fighting at",
  224: "fighting at",
  225: "fighting at",
  226: "fighting at",
  227: "fighting at",
  228: "fighting at",
  229: "fighting at",
  230: "getting lost in",
  231: "getting lost in",
  232: "getting lost in",
  233: "getting lost in",
  234: "getting lost in",
  235: "getting lost in",
  236: "getting lost in",
  237: "getting lost in",
  238: "visiting family at",
  239: "visiting family at",
  240: "visiting family at",
  241: "visiting family at",
  242: "visiting family at",
  243: "visiting family at",
  244: "visiting family at",
  245: "visiting family at",
  246: "visiting family at",
  247: "visiting family at",
  248: "visiting family at",
  249: "visiting family at",
  250: "visiting family at",
  251: "visiting family at",
  252: "visiting family at",
  253: "visiting family at",
  254: "visiting family at",
  255: "visiting family at",
  '*': "exploring",
};

export const kongLookup = {
  1: 'Donkey',
  2: 'Diddy',
  11: 'Donkey w/Diddy',
  12: 'Diddy w/Donkey',
  '*': 'Missing',
};

export const roomLookup = {
  0: "Jungle Jaunt",
  1: "Cave Barrel Blast",
  2: "Cave Barrel Blast",
  3: "Pot Hole Panic",
  4: "Cave Barrel Blast",
  5: "Necky Nutmare",
  6: "Jungle Jaunt",
  7: "Pot Hole Panic",
  8: "Jungle Jaunt",
  9: "Chomp's Reef",
  10: "Freezing Mine",
  11: "Cave Barrel Blast",
  12: "Simian Swing",
  13: "Sunset Tire Trail",
  14: "Jungle Jaunt",
  15: "Simian Swing",
  16: "Pot Hole Panic",
  17: "Pot Hole Panic",
  18: "Necky Nutmare",
  19: "Rockkroc Caverns",
  20: "Rockkroc Caverns",
  21: "Pot Hole Panic",
  22: "Jungle Jaunt",
  23: "Congo Carnage",
  24: "Spiky Tyre Antics",
  25: "Congo Carnage",
  26: "Jungle Jaunt",
  27: "Simian Swing",
  28: "Simian Swing",
  29: "Sunset Tire Trail",
  30: "Sunset Tire Trail",
  31: "Sunset Tire Trail",
  32: "Sunset Tire Trail",
  34: "Toxic Lake",
  35: "Spiky Tyre Antics",
  36: "Arctic Barrel Arsenal",
  37: "Jungle Jaunt",
  38: "Cave Barrel Blast",
  39: "Krazy Mine Kart",
  40: "Jungle Jaunt",
  41: "Necky Nutmare",
  42: "Toxic Lake",
  43: "Castlist Perils",
  44: "Castlist Perils",
  45: "Freezing Mine",
  46: "Mine Cart Mayhem",
  47: "Tricky Track Chaos",
  48: "Animal Antics 0",
  49: "Mineshaft Fight",
  50: "Freezing Mine",
  51: "Freezing Mine",
  53: "Tricky Temple",
  54: "Loopy Oil Drums",
  55: "Loopy Oil Drums",
  56: "Mine Cart Mayhem",
  57: "Tricky Track Chaos",
  58: "Animal Antics 0",
  59: "Krazy Mine Kart",
  60: "Mineshaft Fight",
  61: "Loopy Oil Drums",
  62: "Croctopus Safari",
  63: "Croctopus Safari",
  64: "Factory Barrel Blast",
  65: "Krazy Blackouts",
  66: "Tricky Temple",
  67: "Snake Drum Challenge",
  68: "Factory Barrel Blast",
  69: "Krazy Blackouts",
  70: "Congo Carnage",
  71: "Jungle Jaunt",
  72: "Cave Barrel Blast",
  73: "Loopy Oil Drums",
  74: "Mineshaft Fight",
  75: "Mineshaft Fight",
  76: "Jungle Jaunt",
  77: "Krazy Mine Kart",
  78: "Castlist Perils",
  79: "Winky's Walkway GBC",
  80: "Castlist Perils",
  81: "Winky's Walkway GBC",
  82: "Snake Drum Challenge",
  83: "Snake Drum Challenge",
  84: "Collapsing Platforms",
  85: "Tricky Temple",
  86: "Tricky Temple",
  87: "Tricky Temple",
  88: "Tricky Temple",
  89: "Snake Drum Challenge",
  90: "Sunset Tire Trail",
  91: "Sunset Tire Trail",
  92: "Jungle Jaunt",
  93: "Congo Carnage",
  94: "The Credits",
  95: "Jungle Jaunt",
  96: "Factory Barrel Blast",
  97: "Factory Barrel Blast",
  98: "Icy Cave Climb",
  99: "Factory Barrel Blast",
  100: "Krazy Blackouts",
  101: "Evergreen Leap",
  102: "Arctic Barrel Arsenal",
  103: "Arctic Barrel Arsenal",
  104: "Gang - Plank Galleon",
  105: "Arctic Barrel Arsenal",
  106: "Freezing Ravine",
  107: "Freezing Ravine",
  108: "Expresso Bonus",
  109: "Icy Cave Climb",
  110: "Jungle Jaunt",
  111: "Simian Swing",
  112: "Simian Swing",
  113: "Sunset Tire Trail",
  114: "Sunset Tire Trail",
  115: "Sunset Tire Trail",
  116: "Sunset Tire Trail",
  117: "Sunset Tire Trail",
  118: "Congo Carnage",
  119: "Congo Carnage",
  120: "Pot Hole Panic",
  121: "Pot Hole Panic",
  122: "Necky Nutmare",
  123: "Necky Nutmare",
  124: "Necky Nutmare",
  125: "Spiky Tyre Antics",
  126: "Spiky Tyre Antics",
  127: "Spiky Tyre Antics",
  128: "Freezing Mine",
  129: "Freezing Mine",
  130: "Mineshaft Fight",
  131: "Mineshaft Fight",
  132: "Loopy Oil Drums",
  133: "Loopy Oil Drums",
  134: "Castlist Perils",
  135: "Castlist Perils",
  136: "Tricky Track Chaos",
  137: "Tricky Track Chaos",
  138: "Tricky Track Chaos",
  139: "Animal Antics 0",
  140: "Krazy Mine Kart",
  141: "Krazy Mine Kart",
  142: "Krazy Mine Kart",
  143: "Factory Barrel Blast",
  144: "Factory Barrel Blast",
  145: "Factory Barrel Blast",
  146: "Krazy Blackouts",
  147: "Krazy Blackouts",
  148: "Arctic Barrel Arsenal",
  149: "Arctic Barrel Arsenal",
  150: "Arctic Barrel Arsenal",
  151: "Pot Hole Panic",
  152: "Necky Nutmare",
  153: "Necky Nutmare",
  154: "Spiky Tyre Antics",
  155: "Spiky Tyre Antics",
  156: "Spiky Tyre Antics",
  157: "Tricky Track Chaos",
  158: "Tricky Track Chaos",
  159: "Animal Antics 0",
  160: "Krazy Mine Kart",
  161: "Tricky Track Chaos",
  162: "Krazy Mine Kart",
  163: "Krazy Blackouts",
  164: "Collapsing Platforms",
  165: "Evergreen Leap",
  166: "Enguarde Bonus",
  167: "Freezing Ravine",
  168: "Freezing Ravine",
  169: "Collapsing Platforms",
  170: "Evergreen Leap",
  171: "Icy Cave Climb",
  172: "Freezing Ravine",
  173: "Freezing Ravine",
  174: "Tricky Temple",
  175: "Tricky Temple",
  176: "Tricky Temple",
  177: "Snake Drum Challenge",
  178: "Snake Drum Challenge",
  179: "Collapsing Platforms",
  180: "Collapsing Platforms",
  181: "Collapsing Platforms",
  182: "Collapsing Platforms",
  183: "Evergreen Leap",
  184: "Evergreen Leap",
  185: "Evergreen Leap",
  186: "Evergreen Leap",
  187: "Evergreen Leap",
  188: "Evergreen Leap",
  189: "Tricky Track Chaos",
  190: "Factory Barrel Blast",
  191: "Chomp's Reef",
  192: "Chomp's Reef",
  193: "Rockkroc Caverns",
  194: "Rockkroc Caverns",
  195: "Rockkroc Caverns",
  196: "Rockkroc Caverns",
  197: "Icy Cave Climb",
  198: "Icy Cave Climb",
  199: "Icy Cave Climb",
  200: "Icy Cave Climb",
  201: "Cave Barrel Blast",
  202: "Icy Cave Climb",
  203: "Icy Cave Climb",
  204: "Mine Cart Mayhem",
  205: "Mineshaft Fight",
  206: "Snomad Village",
  207: "Snomad Village",
  208: "Forest Mayhem",
  209: "Evergreen Leap",
  210: "Rambi Bonus",
  211: "Winky Bonus",
  212: "Forest Mayhem",
  213: "Snomad Village",
  214: "Snomad Village",
  215: "Snomad Village",
  216: "Snomad Village",
  217: "Winky's Walkway GBC",
  218: "Mine Cart Mayhem",
  219: "Forest Mayhem",
  220: "Forest Mayhem",
  221: "Forest Mayhem",
  222: "Clambo's Refuge",
  223: "Clambo's Refuge",
  224: "Very Gnawty's Lair",
  225: "Necky's Nuts",
  226: "Really Gnawty Rampage",
  227: "Boss Dumb Drum",
  228: "Necky's Revenge",
  229: "Bumble B Rumble",
  230: "Chimp Caverns",
  231: "Kremkroc Industries Inc.",
  232: "Gorilla Glacier",
  233: "Vine Valley",
  234: "Kongo Jungle",
  235: "Kongo Jungle",
  236: "Kongo Jungle",
  237: "Monkey Mines",
  238: "Cranky's Cabin",
  239: "Cranky's Cabin",
  240: "Cranky's Cabin",
  241: "Cranky's Cabin",
  242: "Cranky's Cabin",
  243: "Cranky's Cabin",
  244: "Funky's Flights",
  245: "Funky's Flights",
  246: "Funky's Flights",
  247: "Funky's Flights",
  248: "Funky's Flights",
  249: "Funky's Flights",
  250: "Candy's Save Point",
  251: "Candy's Save Point",
  252: "Candy's Save Point",
  253: "Candy's Save Point",
  254: "Candy's Save Point",
  255: "Candy's Save Point",
  '*': "An Unknown Location",
};
